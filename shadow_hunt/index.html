<!DOCTYPE html>
<html lang="he">
<head>
  <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;700;900&display=swap" rel="stylesheet">

  <meta charset="UTF-8">
  <title>תמרורי רעות</title>
  <style>
body {
  font-family: 'Heebo', sans-serif;
  background: radial-gradient(circle at top, #2b2b2b, #0f0f0f);
  color: #f2f2f2;
  text-align: center;
  direction: rtl;
  min-height: 100vh;
  margin: 0;
}

h1 {
  margin-top: 30px;
  font-size: 2.4rem;
  font-weight: 900;
  letter-spacing: 1px;
}

.subtitle {
  opacity: 0.75;
  margin-top: 8px;
  margin-bottom: 0;
}

.counter {
  font-size: 1.1rem;
  opacity: 0.85;
  margin-top: 10px;
}

.grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 20px;
  max-width: 720px;
  margin: 40px auto;
  padding: 0 20px;
}

.item img {
  width: 100%;
  background: #1c1c1c;
  border-radius: 14px;
  padding: 10px;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
  cursor: pointer;
}

.item img:hover {
  transform: scale(1.05);
  box-shadow: 0 0 18px rgba(255,255,255,0.15);
}

/* Lightbox */
.lightbox {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.lightbox img {
  max-width: 90%;
  max-height: 90%;
}

.lightbox.active {
  display: flex;
}

  </style>
</head> 


<body>
<h1>תמרורי רעות</h1>
<p class="subtitle">
  מצאו את כל הצללים המסתתרים בבניין
</p>

</p>
  <div class="counter" id="counter"></div>
  <div class="grid" id="grid"></div>

  <!-- Lightbox HTML (חייב להיות בתוך body) -->
  <div class="lightbox" id="lightbox">
    <img src="" alt="">
  </div>

  <script>
    const illustrations = ["mouse","table","do_not_read", "broken_heart", "candy", "chill", "dont_eat_brush", "dont_play", "jail", "mapolet", "money", "no_eating_paint", "no_phone", "no_school", "no_singing", "no_sleep", "no_sliding", "pants", "popcorn", "slipring", "soap", "stop", "water"];
    const found = JSON.parse(localStorage.getItem("found")) || [];

    const params = new URLSearchParams(window.location.search);
    const newlyFound = params.get("found");

    if (newlyFound && !found.includes(newlyFound)) {
      found.push(newlyFound);
      localStorage.setItem("found", JSON.stringify(found));
    }

    const grid = document.getElementById("grid");

    illustrations.forEach(name => {
      const div = document.createElement("div");
      div.className = "item";

      const img = document.createElement("img");
      img.src = found.includes(name) ? `images/${name}.svg` : `images/shadow.svg`;

      // Lightbox: רק אם התמונה נחשפה
      img.addEventListener("click", () => {
        if (!found.includes(name)) return;
        const lightbox = document.getElementById("lightbox");
        lightbox.querySelector("img").src = `images/${name}.svg`;
        lightbox.classList.add("active");
      });

      div.appendChild(img);
      grid.appendChild(div);
    });

    document.getElementById("counter").innerText =
      `נחשפו ${found.length} מתוך ${illustrations.length} צללים`;

    // סגירת lightbox בלחיצה
    document.getElementById("lightbox").addEventListener("click", () => {
      document.getElementById("lightbox").classList.remove("active");
    });
  </script>
</body>
</html>
